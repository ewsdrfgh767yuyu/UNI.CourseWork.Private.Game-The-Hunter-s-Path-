<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kursach: Architecture of the Game &quot;The Hunter&#39;s Path&quot; (Darkest Dungeon Style)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Kursach
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Architecture of the Game "The Hunter's Path" (Darkest Dungeon Style) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
System Overview</h1>
<p>The game is a turn-based RPG in the style of Darkest Dungeon with rogue-like elements. Main components:</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Main Entities</h2>
<ul>
<li><b><a class="el" href="class_entity.html">Entity</a></b> - basic entity with characteristics (HP, damage, defense, initiative, stamina)</li>
<li><b><a class="el" href="class_player.html">Player</a></b> - playable character with inventory, equipment, and leveling system</li>
<li><b><a class="el" href="class_enemy.html">Enemy</a></b> - enemy with experience for killing and difficulty level</li>
<li><b><a class="el" href="class_item.html">Item</a></b> - items (weapons, armor, accessories, consumables)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Architectural Components</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
1. Battle System (BattleSystem)</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_battle_system.html">BattleSystem</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    vector&lt;Entity*&gt; playerParty;    <span class="comment">// Player party (up to 4 characters)</span></div>
<div class="line">    vector&lt;Entity*&gt; enemyParty;     <span class="comment">// Enemy party</span></div>
<div class="line">    vector&lt;Entity*&gt; turnOrder;      <span class="comment">// Turn order (based on initiative)</span></div>
<div class="line">    <span class="keywordtype">int</span> currentTurnIndex;           <span class="comment">// Current turn</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Positions on the battle line (0-3 for each side)</span></div>
<div class="line">    vector&lt;int&gt; playerPositions;</div>
<div class="line">    vector&lt;int&gt; enemyPositions;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Corpses on the battlefield</span></div>
<div class="line">    vector&lt;Entity*&gt; playerCorpses;</div>
<div class="line">    vector&lt;Entity*&gt; enemyCorpses;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_battle_system_html"><div class="ttname"><a href="class_battle_system.html">BattleSystem</a></div><div class="ttdef"><b>Definition</b> BattleSystem.h:32</div></div>
</div><!-- fragment --><p><b>Battle Mechanics:</b></p><ul>
<li>Turn order based on initiative (unit with initiative 20 acts twice as often)</li>
<li>Positional system: attack only available targets</li>
<li>Corpses block positions (need to "clear" to access back rows)</li>
<li>Limited actions per turn (stamina)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
2. Location System (LocationSystem)</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630d">LocationType</a> {</div>
<div class="line">    <a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b">FOREST</a>,         <span class="comment">// Forest</span></div>
<div class="line">    <a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1">CAVE</a>,           <span class="comment">// Cave</span></div>
<div class="line">    <a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf">DEAD_CITY</a>,      <span class="comment">// Dead City</span></div>
<div class="line">    <a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94">CASTLE</a>          <span class="comment">// Castle (final boss)</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_struct" href="struct_location.html">Location</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_enumeration" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630d">LocationType</a> <a class="code hl_variable" href="struct_location.html#a6aa871293ed91fc1b93d008351059bcc">type</a>;</div>
<div class="line">    <span class="keywordtype">string</span> <a class="code hl_variable" href="struct_location.html#a2d7b8b59c9c1d46d46358c068c4db1b0">name</a>;</div>
<div class="line">    <span class="keywordtype">string</span> <a class="code hl_variable" href="struct_location.html#af8da218d04bd4e99dc69ee5419f29b87">description</a>;</div>
<div class="line">    vector&lt;Location*&gt; connectedLocations;  <span class="comment">// Connected locations</span></div>
<div class="line">    vector&lt;Event*&gt; possibleEvents;         <span class="comment">// Possible events</span></div>
<div class="line">    <span class="keywordtype">bool</span> isBossLocation;                   <span class="comment">// Boss location</span></div>
<div class="line">};</div>
<div class="ttc" id="aentity_8h_html_af2e75a10adf1443b5204c7856bbf630d"><div class="ttname"><a href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630d">LocationType</a></div><div class="ttdeci">LocationType</div><div class="ttdef"><b>Definition</b> entity.h:114</div></div>
<div class="ttc" id="aentity_8h_html_af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1"><div class="ttname"><a href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1">LocationType::CAVE</a></div><div class="ttdeci">@ CAVE</div><div class="ttdef"><b>Definition</b> entity.h:116</div></div>
<div class="ttc" id="aentity_8h_html_af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b"><div class="ttname"><a href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b">LocationType::FOREST</a></div><div class="ttdeci">@ FOREST</div><div class="ttdef"><b>Definition</b> entity.h:115</div></div>
<div class="ttc" id="aentity_8h_html_af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94"><div class="ttname"><a href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94">LocationType::CASTLE</a></div><div class="ttdeci">@ CASTLE</div><div class="ttdef"><b>Definition</b> entity.h:118</div></div>
<div class="ttc" id="aentity_8h_html_af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf"><div class="ttname"><a href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf">LocationType::DEAD_CITY</a></div><div class="ttdeci">@ DEAD_CITY</div><div class="ttdef"><b>Definition</b> entity.h:117</div></div>
<div class="ttc" id="astruct_location_html"><div class="ttname"><a href="struct_location.html">Location</a></div><div class="ttdef"><b>Definition</b> CampaignSystem.h:38</div></div>
<div class="ttc" id="astruct_location_html_a2d7b8b59c9c1d46d46358c068c4db1b0"><div class="ttname"><a href="struct_location.html#a2d7b8b59c9c1d46d46358c068c4db1b0">Location::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> CampaignSystem.h:40</div></div>
<div class="ttc" id="astruct_location_html_a6aa871293ed91fc1b93d008351059bcc"><div class="ttname"><a href="struct_location.html#a6aa871293ed91fc1b93d008351059bcc">Location::type</a></div><div class="ttdeci">LocationType type</div><div class="ttdef"><b>Definition</b> CampaignSystem.h:39</div></div>
<div class="ttc" id="astruct_location_html_af8da218d04bd4e99dc69ee5419f29b87"><div class="ttname"><a href="struct_location.html#af8da218d04bd4e99dc69ee5419f29b87">Location::description</a></div><div class="ttdeci">std::string description</div><div class="ttdef"><b>Definition</b> CampaignSystem.h:41</div></div>
</div><!-- fragment --><p><b>Navigation Structure:</b> </p><div class="fragment"><div class="line">Forest → Cave, Dead City</div>
<div class="line">Cave → Castle, Dead City</div>
<div class="line">Dead City → Castle, Forest</div>
<div class="line">Castle → Cave, Forest (if not going to boss)</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
3. Event System (EventSystem)</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6fa">EventType</a> {</div>
<div class="line">    COMBAT,         <span class="comment">// Combat with enemies (60% probability)</span></div>
<div class="line">    <a class="code hl_enumvalue" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5">TREASURE</a>,       <span class="comment">// Loot find (20% probability)</span></div>
<div class="line">    RECRUIT,        <span class="comment">// New character joining (10% probability)</span></div>
<div class="line">    TRAP,           <span class="comment">// Trap (5% probability)</span></div>
<div class="line">    REST,           <span class="comment">// Rest/recovery (5% probability)</span></div>
<div class="line">    BOSS            <span class="comment">// Boss battle (only in castle)</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Event {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_enumeration" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6fa">EventType</a> type;</div>
<div class="line">    <span class="keywordtype">string</span> description;</div>
<div class="line">    <span class="keywordtype">int</span> difficultyLevel;              <span class="comment">// Difficulty level (1-5)</span></div>
<div class="line">    vector&lt;Entity*&gt; involvedEntities; <span class="comment">// Enemies/characters</span></div>
<div class="line">    vector&lt;Item*&gt; rewards;            <span class="comment">// Rewards</span></div>
<div class="line">    vector&lt;Location*&gt; nextLocations;  <span class="comment">// Next locations after event</span></div>
<div class="line">    vector&lt;string&gt; choices;           <span class="comment">// Action choices for player</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Generate event based on location and progress</span></div>
<div class="line">    <span class="keyword">static</span> Event* generateEvent(<a class="code hl_struct" href="struct_location.html">Location</a>* location, <span class="keywordtype">int</span> partyLevel);</div>
<div class="line">};</div>
<div class="ttc" id="a_campaign_system_8h_html_a2628ea8d12e8b2563c32f05dc7fff6fa"><div class="ttname"><a href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6fa">EventType</a></div><div class="ttdeci">EventType</div><div class="ttdef"><b>Definition</b> CampaignSystem.h:17</div></div>
<div class="ttc" id="a_campaign_system_8h_html_a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5"><div class="ttname"><a href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5">EventType::TREASURE</a></div><div class="ttdeci">@ TREASURE</div><div class="ttdef"><b>Definition</b> CampaignSystem.h:19</div></div>
</div><!-- fragment --><p><b>Event Generation Mechanics:</b></p><ul>
<li><b>Event probabilities</b> depend on location type and party level</li>
<li><b>Event difficulty</b> scales with game progress</li>
<li><b>Dynamic generation</b> of enemies and rewards</li>
<li><b>Interactive choices</b> with consequences for the player</li>
</ul>
<p><b>Generation Algorithm:</b> </p><div class="fragment"><div class="line">Event* Event::generateEvent(<a class="code hl_struct" href="struct_location.html">Location</a>* location, <span class="keywordtype">int</span> partyLevel) {</div>
<div class="line">    <span class="comment">// Base probabilities for each location type</span></div>
<div class="line">    map&lt;LocationType, map&lt;EventType, float&gt;&gt; baseProbabilities = {</div>
<div class="line">        {<a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b">FOREST</a>, {{COMBAT, 0.6}, {<a class="code hl_enumvalue" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5">TREASURE</a>, 0.2}, {RECRUIT, 0.1}, {TRAP, 0.05}, {REST, 0.05}}},</div>
<div class="line">        {<a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1">CAVE</a>, {{COMBAT, 0.7}, {<a class="code hl_enumvalue" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5">TREASURE</a>, 0.15}, {TRAP, 0.1}, {REST, 0.05}}},</div>
<div class="line">        {<a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf">DEAD_CITY</a>, {{COMBAT, 0.65}, {<a class="code hl_enumvalue" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5">TREASURE</a>, 0.2}, {TRAP, 0.1}, {REST, 0.05}}},</div>
<div class="line">        {<a class="code hl_enumvalue" href="entity_8h.html#af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94">CASTLE</a>, {{BOSS, 1.0}}}  <span class="comment">// Only boss in castle</span></div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Adjust probabilities based on party level</span></div>
<div class="line">    <span class="keyword">auto</span> probabilities = adjustProbabilities(baseProbabilities[location-&gt;getType()], partyLevel);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Random selection of event type</span></div>
<div class="line">    <a class="code hl_enumeration" href="_campaign_system_8h.html#a2628ea8d12e8b2563c32f05dc7fff6fa">EventType</a> type = selectEventType(probabilities);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> createSpecificEvent(type, location, partyLevel);</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
4. Party System (PartySystem)</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>Party {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    vector&lt;Player*&gt; members;          <span class="comment">// Current party members (up to 4)</span></div>
<div class="line">    vector&lt;Player*&gt; availableHeroes;  <span class="comment">// Available heroes for hire</span></div>
<div class="line">    vector&lt;Item*&gt; sharedInventory;    <span class="comment">// Shared party inventory</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">bool</span> addMember(<a class="code hl_class" href="class_player.html">Player</a>* hero);     <span class="comment">// Add hero to party</span></div>
<div class="line">    <span class="keywordtype">bool</span> removeMember(<a class="code hl_class" href="class_player.html">Player</a>* hero);  <span class="comment">// Remove hero (death)</span></div>
<div class="line">    <span class="keywordtype">void</span> distributeExperience(<span class="keywordtype">int</span> exp); <span class="comment">// Distribute experience</span></div>
<div class="line">};</div>
<div class="ttc" id="aclass_player_html"><div class="ttname"><a href="class_player.html">Player</a></div><div class="ttdef"><b>Definition</b> entity.h:577</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
5. Main Game Manager (GameManager)</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>GameManager {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    Party* currentParty;              <span class="comment">// Current party</span></div>
<div class="line">    <a class="code hl_struct" href="struct_location.html">Location</a>* currentLocation;        <span class="comment">// Current location</span></div>
<div class="line">    <a class="code hl_class" href="class_battle_system.html">BattleSystem</a>* battleSystem;       <span class="comment">// Battle system</span></div>
<div class="line">    vector&lt;Location*&gt; worldMap;       <span class="comment">// World map</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> gameOver;                    <span class="comment">// Game over flag</span></div>
<div class="line">    <span class="keywordtype">int</span> totalRuns;                    <span class="comment">// Number of attempts</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> startNewGame();              <span class="comment">// Start new game</span></div>
<div class="line">    <span class="keywordtype">void</span> travelToLocation(<a class="code hl_struct" href="struct_location.html">Location</a>* loc); <span class="comment">// Travel between locations</span></div>
<div class="line">    <span class="keywordtype">void</span> handleEvent(Event* event);   <span class="comment">// Handle event</span></div>
<div class="line">    <span class="keywordtype">void</span> gameOverScreen();            <span class="comment">// Defeat screen</span></div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Architecture Diagram</h1>
<div class="fragment"><div class="line">graph TB</div>
<div class="line">    GM[GameManager] --&gt; PS[PartySystem]</div>
<div class="line">    GM --&gt; BS[BattleSystem]</div>
<div class="line">    GM --&gt; LS[LocationSystem]</div>
<div class="line">    GM --&gt; ES[EventSystem]</div>
<div class="line"> </div>
<div class="line">    PS --&gt; P1[Player 1]</div>
<div class="line">    PS --&gt; P2[Player 2]</div>
<div class="line">    PS --&gt; P3[Player 3]</div>
<div class="line">    PS --&gt; P4[Player 4]</div>
<div class="line"> </div>
<div class="line">    BS --&gt; EP[Enemy Party]</div>
<div class="line">    BS --&gt; PP[Player Party]</div>
<div class="line"> </div>
<div class="line">    LS --&gt; L1[Forest]</div>
<div class="line">    LS --&gt; L2[Cave]</div>
<div class="line">    LS --&gt; L3[Dead City]</div>
<div class="line">    LS --&gt; L4[Castle]</div>
<div class="line"> </div>
<div class="line">    ES --&gt; E1[Combat]</div>
<div class="line">    ES --&gt; E2[Loot]</div>
<div class="line">    ES --&gt; E3[Recruit]</div>
<div class="line">    ES --&gt; E4[Trap]</div>
<div class="line"> </div>
<div class="line">    P1 --&gt; I1[Items]</div>
<div class="line">    P2 --&gt; I2[Items]</div>
<div class="line">    P3 --&gt; I3[Items]</div>
<div class="line">    P4 --&gt; I4[Items]</div>
<div class="line"> </div>
<div class="line">    EP --&gt; E[Enemy]</div>
<div class="line"> </div>
<div class="line">    classDef system fill:#e1f5fe</div>
<div class="line">    classDef entity fill:#f3e5f5</div>
<div class="line">    classDef location fill:#e8f5e8</div>
<div class="line">    classDef event fill:#fff3e0</div>
<div class="line"> </div>
<div class="line">    class GM,PS,BS,LS,ES system</div>
<div class="line">    class P1,P2,P3,P4,E entity</div>
<div class="line">    class L1,L2,L3,L4 location</div>
<div class="line">    class E1,E2,E3,E4 event</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Technical Features</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Initiative System in Battle</h2>
<ul>
<li>Each turn calculates initiative weight: <span class="tt">initiative / 10</span></li>
<li>Unit with initiative 20 gets 2 turns per cycle, with initiative 10 - 1 turn</li>
<li>Turn order is dynamically recalculated each round</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Positional Mechanics</h2>
<ul>
<li>Battlefield is a line of 4 positions on each side</li>
<li>Attack range=0: only first enemy line</li>
<li>Attack range=1: first and second lines</li>
<li>Attack range=2: all lines</li>
<li>Corpses occupy positions until "cleared"</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Rogue-like Elements</h2>
<ul>
<li>Permanent character death</li>
<li>Random event and enemy generation</li>
<li>No progress saving between runs</li>
<li>Entire party death = game over</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Recommended File Structure</h1>
<div class="fragment"><div class="line">src/</div>
<div class="line">├── entities/           # Game entities</div>
<div class="line">│   ├── Entity.h</div>
<div class="line">│   ├── Player.h</div>
<div class="line">│   ├── Enemy.h</div>
<div class="line">│   └── Item.h</div>
<div class="line">├── systems/           # Game systems</div>
<div class="line">│   ├── BattleSystem.h</div>
<div class="line">│   ├── LocationSystem.h</div>
<div class="line">│   ├── EventSystem.h</div>
<div class="line">│   ├── PartySystem.h</div>
<div class="line">│   └── GameManager.h</div>
<div class="line">├── data/             # Game data</div>
<div class="line">│   ├── Locations.h</div>
<div class="line">│   ├── Events.h</div>
<div class="line">│   └── Enemies.h</div>
<div class="line">└── main.cpp          # Entry point</div>
</div><!-- fragment --><p>This architecture ensures modularity, extensibility, and clear separation of responsibilities between game components. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
