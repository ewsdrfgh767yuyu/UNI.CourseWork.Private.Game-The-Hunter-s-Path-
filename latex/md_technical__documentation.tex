\chapter{Technical Documentation of the Game "{}\+The Hunter\textquotesingle{}s Path"{} }
\hypertarget{md_technical__documentation}{}\label{md_technical__documentation}\index{Technical Documentation of the Game "{}The Hunter\textquotesingle{}s Path"{}@{Technical Documentation of the Game ""The Hunter\textquotesingle{}s Path""}}
\label{md_technical__documentation_autotoc_md24}%
\Hypertarget{md_technical__documentation_autotoc_md24}%
\hypertarget{md_technical__documentation_autotoc_md25}{}\doxysection{\texorpdfstring{Project Overview}{Project Overview}}\label{md_technical__documentation_autotoc_md25}
A game in the genre of Darkest Dungeon with turn-\/based battles, non-\/linear location navigation, and rogue-\/like elements.\hypertarget{md_technical__documentation_autotoc_md26}{}\doxysection{\texorpdfstring{Architectural Solutions}{Architectural Solutions}}\label{md_technical__documentation_autotoc_md26}
\hypertarget{md_technical__documentation_autotoc_md27}{}\doxysubsection{\texorpdfstring{1. Modular Structure}{1. Modular Structure}}\label{md_technical__documentation_autotoc_md27}
The project is divided into independent systems to ensure\+:
\begin{DoxyItemize}
\item {\bfseries{Testability}} -\/ each system can be tested separately
\item {\bfseries{Extensibility}} -\/ easy addition of new mechanics
\item {\bfseries{Maintainability}} -\/ clear responsibility separation
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md28}{}\doxysubsection{\texorpdfstring{2. Entity Inheritance}{2. Entity Inheritance}}\label{md_technical__documentation_autotoc_md28}
Using a class hierarchy\+:
\begin{DoxyItemize}
\item {\bfseries{\doxylink{class_entity}{Entity}}} -\/ basic functionality for all creatures
\item {\bfseries{\doxylink{class_player}{Player}}} -\/ specialization for playable characters
\item {\bfseries{\doxylink{class_enemy}{Enemy}}} -\/ specialization for enemies
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md29}{}\doxysubsection{\texorpdfstring{3. Component Approach}{3. Component Approach}}\label{md_technical__documentation_autotoc_md29}
Each system is responsible for its area\+:
\begin{DoxyItemize}
\item {\bfseries{\doxylink{class_battle_system}{Battle\+System}}} -\/ battle logic
\item {\bfseries{Location\+System}} -\/ world navigation
\item {\bfseries{Event\+System}} -\/ event handling
\item {\bfseries{Party\+System}} -\/ party management
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md30}{}\doxysection{\texorpdfstring{Implementation Details}{Implementation Details}}\label{md_technical__documentation_autotoc_md30}
\hypertarget{md_technical__documentation_autotoc_md31}{}\doxysubsection{\texorpdfstring{Battle System (Battle\+System)}{Battle System (Battle\+System)}}\label{md_technical__documentation_autotoc_md31}
\hypertarget{md_technical__documentation_autotoc_md32}{}\doxysubsubsection{\texorpdfstring{Initiative Mechanics}{Initiative Mechanics}}\label{md_technical__documentation_autotoc_md32}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ Calculate\ turn\ weight\ based\ on\ initiative}}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ turnWeight\ =\ entity-\/>getInitiative()\ /\ 10;}
\DoxyCodeLine{\textcolor{comment}{//\ Unit\ with\ initiative\ 20:\ turnWeight\ =\ 2\ (acts\ twice\ as\ often)}}

\end{DoxyCode}
\hypertarget{md_technical__documentation_autotoc_md33}{}\doxysubsubsection{\texorpdfstring{Positional System}{Positional System}}\label{md_technical__documentation_autotoc_md33}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{struct_battle_position}{BattlePosition}}\ \{}
\DoxyCodeLine{\ \ \ \ vector<Entity*>\ frontLine;\ \ \ \ \textcolor{comment}{//\ Front\ line\ (positions\ 0-\/1)}}
\DoxyCodeLine{\ \ \ \ vector<Entity*>\ backLine;\ \ \ \ \ \textcolor{comment}{//\ Back\ line\ (positions\ 2-\/3)}}
\DoxyCodeLine{\ \ \ \ vector<Entity*>\ corpses;\ \ \ \ \ \ \textcolor{comment}{//\ Corpses\ on\ positions}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Check\ target\ availability}}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ canAttackTarget(\mbox{\hyperlink{class_entity}{Entity}}*\ attacker,\ \mbox{\hyperlink{class_entity}{Entity}}*\ target)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ attackerRange\ =\ attacker-\/>\mbox{\hyperlink{class_entity_aed7bc4bca4e63303163f93ce4e222297}{getAttackRange}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ targetPosition\ =\ getPosition(target);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Check\ for\ corpses\ blocking\ the\ path}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ isTargetReachable(attackerRange,\ targetPosition);}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_technical__documentation_autotoc_md34}{}\doxysubsection{\texorpdfstring{Location System}{Location System}}\label{md_technical__documentation_autotoc_md34}
\hypertarget{md_technical__documentation_autotoc_md35}{}\doxysubsubsection{\texorpdfstring{Navigation Graph}{Navigation Graph}}\label{md_technical__documentation_autotoc_md35}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }LocationConnection\ \{}
\DoxyCodeLine{\ \ \ \ Location*\ from;}
\DoxyCodeLine{\ \ \ \ Location*\ to;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ travelCost;\ \ \textcolor{comment}{//\ Travel\ cost\ (stamina/health)}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Non-\/linear\ connections\ between\ locations}}
\DoxyCodeLine{vector<LocationConnection>\ connections\ =\ \{}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b}{FOREST}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1}{CAVE}},\ 10\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b}{FOREST}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf}{DEAD\_CITY}},\ 15\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1}{CAVE}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94}{CASTLE}},\ 20\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1}{CAVE}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf}{DEAD\_CITY}},\ 12\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf}{DEAD\_CITY}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94}{CASTLE}},\ 18\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da6f45cab6ffe3e1faf27259cbeec3a9cf}{DEAD\_CITY}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b}{FOREST}},\ 15\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94}{CASTLE}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1}{CAVE}},\ 20\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94}{CASTLE}},\ \mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b}{FOREST}},\ 25\}}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{md_technical__documentation_autotoc_md36}{}\doxysubsection{\texorpdfstring{Event System}{Event System}}\label{md_technical__documentation_autotoc_md36}
\hypertarget{md_technical__documentation_autotoc_md37}{}\doxysubsubsection{\texorpdfstring{Detailed Event Generation Mechanics}{Detailed Event Generation Mechanics}}\label{md_technical__documentation_autotoc_md37}
{\bfseries{Probabilistic System\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }EventProbability\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6fa}{EventType}}\ type;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{float}\ baseProbability;\ \ \ \ \textcolor{comment}{//\ Base\ probability}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{float}\ levelMultiplier;\ \ \ \ \textcolor{comment}{//\ Multiplier\ from\ party\ level}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ minLevel;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Minimum\ level\ for\ event}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ maxLevel;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Maximum\ level\ for\ event}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }EventGenerator\ \{}
\DoxyCodeLine{\textcolor{keyword}{private}:}
\DoxyCodeLine{\ \ \ \ map<LocationType,\ vector<EventProbability>>\ locationProbabilities;}
\DoxyCodeLine{\ \ \ \ RandomGenerator\ random;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Adjust\ probabilities\ based\ on\ party\ level}}
\DoxyCodeLine{\ \ \ \ vector<float>\ adjustProbabilities(\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630d}{LocationType}}\ location,\ \textcolor{keywordtype}{int}\ partyLevel)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ vector<float>\ adjusted;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ prob\ :\ locationProbabilities[location])\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (partyLevel\ >=\ prob.minLevel\ \&\&\ partyLevel\ <=\ prob.maxLevel)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ adjustedProb\ =\ prob.baseProbability\ *}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (1.0\ +\ prob.levelMultiplier\ *\ (partyLevel\ -\/\ 1));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ adjusted.push\_back(adjustedProb);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ adjusted.push\_back(0.0);\ \textcolor{comment}{//\ Event\ unavailable\ for\ this\ level}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ adjusted;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ Event*\ generateEvent(Location*\ location,\ \textcolor{keywordtype}{int}\ partyLevel)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ probabilities\ =\ adjustProbabilities(location-\/>getType(),\ partyLevel);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6fa}{EventType}}\ type\ =\ weightedRandomSelect(probabilities);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ createEvent(type,\ location,\ partyLevel);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Weighted\ random\ selection}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6fa}{EventType}}\ weightedRandomSelect(\textcolor{keyword}{const}\ vector<float>\&\ probabilities)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ total\ =\ accumulate(probabilities.begin(),\ probabilities.end(),\ 0.0f);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ randomValue\ =\ random.nextFloat(0.0f,\ total);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ cumulative\ =\ 0.0f;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ probabilities.size();\ i++)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ cumulative\ +=\ probabilities[i];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (randomValue\ <=\ cumulative)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6fa}{EventType}}\textcolor{keyword}{>}(i);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ COMBAT;\ \textcolor{comment}{//\ Fallback}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}

\end{DoxyCode}


{\bfseries{Probability Configuration by Locations\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ Initialize\ event\ probabilities}}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ initializeProbabilities()\ \{}
\DoxyCodeLine{\ \ \ \ locationProbabilities[\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da1868c2177fdc84d496f7784a23729d3b}{FOREST}}]\ =\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{COMBAT,\ 0.6,\ 0.1,\ 1,\ 10\},\ \ \ \ \ \textcolor{comment}{//\ 60\%\ base,\ +10\%\ per\ level}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{\mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5}{TREASURE}},\ 0.2,\ 0.05,\ 1,\ 10\},\ \ \textcolor{comment}{//\ 20\%\ base,\ +5\%\ per\ level}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{RECRUIT,\ 0.1,\ 0.02,\ 2,\ 8\},\ \ \ \ \textcolor{comment}{//\ Only\ from\ level\ 2}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{TRAP,\ 0.05,\ 0.01,\ 1,\ 10\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{REST,\ 0.05,\ 0.0,\ 1,\ 10\}\ \ \ \ \ \ \ \textcolor{comment}{//\ Probability\ doesn't\ grow\ with\ level}}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ locationProbabilities[\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da14db90e75f1308d303d0bceb0be66ac1}{CAVE}}]\ =\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{COMBAT,\ 0.7,\ 0.15,\ 1,\ 10\},\ \ \ \ \textcolor{comment}{//\ Caves\ are\ more\ dangerous}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{\mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5}{TREASURE}},\ 0.15,\ 0.08,\ 1,\ 10\},\ \textcolor{comment}{//\ But\ rewards\ are\ better}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{TRAP,\ 0.1,\ 0.05,\ 1,\ 10\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{REST,\ 0.05,\ 0.0,\ 1,\ 10\}}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ locationProbabilities[\mbox{\hyperlink{entity_8h_af2e75a10adf1443b5204c7856bbf630da42bfd70b24ee63ec7f92264e3e79da94}{CASTLE}}]\ =\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{BOSS,\ 1.0,\ 0.0,\ 3,\ 10\}\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Only\ boss\ from\ level\ 3}}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\}}

\end{DoxyCode}


{\bfseries{Dynamic Event Content Generation\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{Event*\ createEvent(\mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6fa}{EventType}}\ type,\ \mbox{\hyperlink{struct_location}{Location}}*\ location,\ \textcolor{keywordtype}{int}\ partyLevel)\ \{}
\DoxyCodeLine{\ \ \ \ Event*\ \textcolor{keyword}{event}\ =\ \textcolor{keyword}{new}\ Event();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{event}-\/>type\ =\ type;}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{event}-\/>difficultyLevel\ =\ calculateDifficulty(partyLevel,\ location);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{case}\ COMBAT:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{event}-\/>involvedEntities\ =\ generateEnemies(event-\/>difficultyLevel,\ location);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{event}-\/>rewards\ =\ generateCombatRewards(event-\/>difficultyLevel);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_campaign_system_8h_a2628ea8d12e8b2563c32f05dc7fff6faaf2de7bf382e8eaf7b82632f3c91002f5}{TREASURE}}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{event}-\/>rewards\ =\ generateTreasure(event-\/>difficultyLevel);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{event}-\/>choices\ =\ \{\textcolor{stringliteral}{"{}Take\ the\ treasure"{}},\ \textcolor{stringliteral}{"{}Leave\ it"{}},\ \textcolor{stringliteral}{"{}Examine\ surroundings"{}}\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{case}\ RECRUIT:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{event}-\/>involvedEntities\ =\ \{generateRecruitableHero(partyLevel)\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{event}-\/>choices\ =\ \{\textcolor{stringliteral}{"{}Accept\ into\ party"{}},\ \textcolor{stringliteral}{"{}Refuse"{}},\ \textcolor{stringliteral}{"{}Exchange\ items"{}}\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ event;}
\DoxyCodeLine{\}}

\end{DoxyCode}


{\bfseries{Choice Consequence System\+:}}
\begin{DoxyItemize}
\item Each event choice has consequences
\item Influence on character relationships
\item Change in future event probabilities
\item Temporary effects (buffs/debuffs)
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md38}{}\doxysection{\texorpdfstring{Interface Solutions}{Interface Solutions}}\label{md_technical__documentation_autotoc_md38}
\hypertarget{md_technical__documentation_autotoc_md39}{}\doxysubsection{\texorpdfstring{Console Interface (Current Stage)}{Console Interface (Current Stage)}}\label{md_technical__documentation_autotoc_md39}

\begin{DoxyItemize}
\item Text representation of game state
\item Command input for control
\item Step-\/by-\/step battle display
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md40}{}\doxysubsection{\texorpdfstring{Planned Graphical Interface}{Planned Graphical Interface}}\label{md_technical__documentation_autotoc_md40}

\begin{DoxyItemize}
\item SDL2 or similar library
\item Isometric or 2D representation
\item Battle and movement animations
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md41}{}\doxysection{\texorpdfstring{Algorithms and Data Structures}{Algorithms and Data Structures}}\label{md_technical__documentation_autotoc_md41}
\hypertarget{md_technical__documentation_autotoc_md42}{}\doxysubsection{\texorpdfstring{1. Battle Turn Queue}{1. Battle Turn Queue}}\label{md_technical__documentation_autotoc_md42}

\begin{DoxyCode}{0}
\DoxyCodeLine{vector<pair<Entity*,\ int>>\ calculateTurnOrder()\ \{}
\DoxyCodeLine{\ \ \ \ vector<pair<Entity*,\ int>>\ order;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_entity}{Entity}}*\ entity\ :\ allEntities)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ weight\ =\ entity-\/>getInitiative()\ /\ 10;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ weight;\ i++)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ order.push\_back(\{entity,\ calculatePriority(entity)\});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ sort(order.begin(),\ order.end(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{auto}\ a,\ \textcolor{keyword}{auto}\ b)\ \{\ return\ a.second\ >\ b.second;\ \});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ order;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_technical__documentation_autotoc_md43}{}\doxysubsection{\texorpdfstring{2. Path Finding Between Locations}{2. Path Finding Between Locations}}\label{md_technical__documentation_autotoc_md43}

\begin{DoxyCode}{0}
\DoxyCodeLine{vector<Location*>\ findPath(\mbox{\hyperlink{struct_location}{Location}}*\ start,\ \mbox{\hyperlink{struct_location}{Location}}*\ end)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ A*\ or\ BFS\ algorithm\ to\ find\ shortest\ path}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Considers\ travel\ cost\ and\ location\ accessibility}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_technical__documentation_autotoc_md44}{}\doxysubsection{\texorpdfstring{3. Experience Distribution}{3. Experience Distribution}}\label{md_technical__documentation_autotoc_md44}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ Party::distributeExperience(\textcolor{keywordtype}{int}\ totalExp)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ expPerMember\ =\ totalExp\ /\ members.size();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_player}{Player}}*\ member\ :\ members)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!member-\/>isDead())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ member-\/>addExperience(expPerMember);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_technical__documentation_autotoc_md45}{}\doxysection{\texorpdfstring{Limitations and Requirements}{Limitations and Requirements}}\label{md_technical__documentation_autotoc_md45}
\hypertarget{md_technical__documentation_autotoc_md46}{}\doxysubsection{\texorpdfstring{Technical Limitations}{Technical Limitations}}\label{md_technical__documentation_autotoc_md46}

\begin{DoxyItemize}
\item Maximum party size\+: 4 characters
\item Maximum enemies in battle\+: 6
\item Number of locations\+: 4 main + connections
\item Inventory depth\+: limited only by memory
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md47}{}\doxysubsection{\texorpdfstring{Performance Requirements}{Performance Requirements}}\label{md_technical__documentation_autotoc_md47}

\begin{DoxyItemize}
\item Fast random event generation
\item Efficient turn order calculation
\item Minimal delays in battle display
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md48}{}\doxysection{\texorpdfstring{Development Recommendations}{Development Recommendations}}\label{md_technical__documentation_autotoc_md48}
\hypertarget{md_technical__documentation_autotoc_md49}{}\doxysubsection{\texorpdfstring{1. Implementation Priorities}{1. Implementation Priorities}}\label{md_technical__documentation_autotoc_md49}

\begin{DoxyEnumerate}
\item {\bfseries{Core systems}} -\/ \doxylink{class_battle_system}{Battle\+System}, Party\+System
\item {\bfseries{Navigation}} -\/ Location\+System, Event\+System
\item {\bfseries{Content}} -\/ enemies, items, events
\item {\bfseries{Interface}} -\/ console â†’ graphical
\end{DoxyEnumerate}\hypertarget{md_technical__documentation_autotoc_md50}{}\doxysubsection{\texorpdfstring{2. Testing}{2. Testing}}\label{md_technical__documentation_autotoc_md50}

\begin{DoxyItemize}
\item Unit tests for each system
\item Integration tests for system interactions
\item Balance tests for battle and event generation
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md51}{}\doxysubsection{\texorpdfstring{3. Balancing}{3. Balancing}}\label{md_technical__documentation_autotoc_md51}

\begin{DoxyItemize}
\item Gradual enemy stat adjustment
\item Initiative system balance
\item Even event distribution across locations
\end{DoxyItemize}\hypertarget{md_technical__documentation_autotoc_md52}{}\doxysection{\texorpdfstring{Future Expansions}{Future Expansions}}\label{md_technical__documentation_autotoc_md52}
\hypertarget{md_technical__documentation_autotoc_md53}{}\doxysubsection{\texorpdfstring{Possible Improvements}{Possible Improvements}}\label{md_technical__documentation_autotoc_md53}

\begin{DoxyEnumerate}
\item {\bfseries{Skill system}} -\/ unique character abilities
\item {\bfseries{Status effects}} -\/ poison, weakening, etc.
\item {\bfseries{Weather conditions}} -\/ influence on battle and movement
\item {\bfseries{Dialogue system}} -\/ interaction with NPCs
\item {\bfseries{Achievement system}} -\/ progress tracking
\end{DoxyEnumerate}\hypertarget{md_technical__documentation_autotoc_md54}{}\doxysubsection{\texorpdfstring{Meta-\/progress (Optional)}{Meta-\/progress (Optional)}}\label{md_technical__documentation_autotoc_md54}

\begin{DoxyItemize}
\item Permanent improvements between runs
\item Unlocking new characters
\item Improving base stats
\end{DoxyItemize}

This architecture provides a solid foundation for developing a full-\/fledged game in the style of Darkest Dungeon with the possibility of gradual functionality expansion. 